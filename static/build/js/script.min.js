!function(a,b){"use strict";function c(a){return a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)}function d(){return["$compile",function(b){return{restrict:"E",require:"?^form",link:function(d,e,f,g){var h;!g||a.isUndefined(g.$name)||"hidden"===e.prop("type")||a.isUndefined(f.name)||a.isDefined(f.ngModel)||(h="dmy"+Math.abs(c(g.$name))+"."+f.name,f.$set("ngModel",h),b(e,null,9999)(d))}}}]}var e=a.module("ng.django.forms",[]),f=["input","select","textarea","datalist"];a.forEach(f,function(a){e.directive(a,d())}),e.directive("djngError",function(){return{restrict:"A",require:"?^form",link:function(b,c,d,e){var f;e&&!a.isUndefined(d.name)&&"bound-field"===d.djngError&&(f=e[d.name],f.$setValidity("bound",!1),f.$parsers.push(function(a){f.$setValidity("bound",!0),c.removeAttr("djng-error")}))}}}),e.directive("ngModel",function(){function b(a,b){switch(b.type){case"radio":b.defaultChecked&&a.$setViewValue(b.defaultValue);break;case"checkbox":b.defaultChecked&&a.$setViewValue(!0);break;case"password":a.$setViewValue(null);break;default:b.defaultValue&&a.$setViewValue(b.defaultValue)}}function c(b,c){var d=[];a.forEach(c.options,function(e){e.defaultSelected&&(a.element(e).prop("selected","selected"),c.multiple?d.push(e.value):b.$setViewValue(e.value))}),c.multiple&&b.$setViewValue(d)}function d(a,b){b.defaultValue&&a.$setViewValue(b.defaultValue)}return{restrict:"A",priority:1,require:["ngModel","^?form"],link:function(e,f,g,h){var i=a.isElement(f)?f[0]:null,j=h[0],k=h[1]||null;if(i&&k){switch(i.tagName){case"INPUT":b(j,i);break;case"SELECT":c(j,i);break;case"TEXTAREA":d(j,i);break;default:console.log("Unknown field type")}k.$setPristine()}}}}),e.directive("validateMultipleFields",function(){return{restrict:"A",require:"^?form",link:function(b,c,d,e){function f(c){var d=!1;a.forEach(h,function(a){d=d||a.checked}),e.$setValidity("required",d),c&&(e.$dirty=!0,e.$pristine=!1,b.$apply())}var g,h=[];if(e){try{g=a.fromJson(d.validateMultipleFields)}catch(b){if(!a.isString(d.validateMultipleFields))return;g=[d.validateMultipleFields],e=e[g]}a.forEach(c.find("input"),function(b){g.indexOf(b.name)>=0&&(h.push(b),a.element(b).on("change",f))}),c.on("$destroy",function(){a.forEach(c.find("input"),function(b){a.element(b).off("change")})}),f()}}}}),e.directive("validateDate",function(){function a(a){var b,d;return!a||(d=new Date(a),!isNaN(d)&&(!c||(b=c.exec(a),b&&parseInt(b[2])===d.getMonth()+1)))}var c=null;return{require:"?ngModel",restrict:"A",link:function(d,e,f,g){if(g){f.validateDate&&(c=new RegExp(f.validateDate,"i"));var h=function(c){var d=g.$isEmpty(c)||a(c);return g.$setValidity("date",d),d?c:b};g.$parsers.push(h)}}}}),e.factory("djangoForm",function(){function b(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function c(a){var b=a.$viewChangeListeners.push(a.clearRejected=function(){a.$message="",a.$setValidity("rejected",!0),a.$viewChangeListeners.splice(b-1,1),delete a.clearRejected})}function d(b){return a.isArray(b.$viewChangeListeners)}var e="__all__";return{setErrors:function(f,g){if(f.$message="",f.$error.hasOwnProperty("rejected")&&a.isArray(f.$error.rejected)){var h=f.$error.rejected.concat();a.forEach(h,function(b){var c,e=b.$name;f.hasOwnProperty(e)&&(c=f[e],d(c)&&c.clearRejected?c.clearRejected():(c.$message="",a.forEach(c,function(a,b){a&&d(a)&&a.clearRejected&&a.clearRejected()})))})}return a.forEach(g,function(b,g){var h;b.length>0&&(g===e?(f.$message=b[0],f.$setPristine()):f.hasOwnProperty(g)&&(h=f[g],h.$message=b[0],h.$setValidity("rejected",!1),h.$setPristine(),d(h)?c(h):a.forEach(h,function(a,b){a&&d(a)&&c(a)})))}),b(g)}}}),e.directive("djngBindIf",function(){return{restrict:"A",compile:function(a){return a.addClass("ng-binding"),function(a,c,d){c.data("$binding",d.ngBind),a.$watch(d.djngBindIf,function(a){a!==b&&c.text(a)})}}}})}(window.angular),function(a,b){"use strict";var c=a.module("ng.django.rmi",[]);c.provider("djangoRMI",function(){function c(d){a.forEach(d,function(f,g){if(!a.isObject(f))throw new Error("djangoRMI.configure got invalid data");f.hasOwnProperty("url")?(f.headers["X-Requested-With"]="XMLHttpRequest",d[g]=function(c){var d=a.copy(f);if("POST"===d.method){if(c===b)throw new Error("Calling remote method "+g+" without data object");d.data=c}else"auto"===d.method&&(c===b?d.method="GET":(d.method="POST",d.data=c));return e(d)}):c(f)})}var d,e;this.configure=function(a){d=a,c(d)},this.$get=["$http",function(a){return e=a,d}]})}(window.angular),function(a,b){"use strict";var c=a.module("ng.django.urls",[]);c.provider("djangoUrl",function(){var a="/angular/reverse/";this.setReverseUrl=function(b){a=b},this.$get=function(){return new d(a)}});var d=function(c){function d(a,b,c){for(var d=e(a),f=0;f<d.length;f++)b.call(c,a[d[f]],d[f]);return d}function e(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function f(c,e){if(!e)return c;var f=[];return d(e,function(c,d){null!==c&&c!==b&&(a.isObject(c)&&(c=a.toJson(c)),f.push(encodeURIComponent(d)+"="+encodeURIComponent(c)))}),c+(c.indexOf("?")===-1?"?":"&")+f.join("&")}this.reverse=function(b,e){var g=f(c,{djng_url_name:b});if(Array.isArray(e))return d(e,function(a){g=f(g,{djng_url_args:a})}),g;var h={};return d(e,function(a,b){h["djng_url_kwarg_"+b]=a}),a.equals(h,{})?g:f(g,h)}}}(window.angular),function(a,b){"use strict";function c(){}var d=a.module("ng.django.websocket",[]);d.service("$websocket",function(){var a;this.connect=function(b){a=new WebSocket(b),a.onopen=this.onopen,a.onmessage=this.onmessage,a.onerror=this.onerror,a.onclose=this.onclose},this.send=function(b){a.send(b)},this.close=function(){a.close()}}),d.provider("djangoWebsocket",function(){var b,d={log:c,warn:c,error:c},e=null;this.setURI=function(a){return b=a,this},this.setHeartbeat=function(a){return e=a,this},this.setLogLevel=function(a){switch(a){case"debug":d=console;break;case"log":d.log=console.log;case"warn":d.warn=console.warn;case"error":d.error=console.error}return this},this.$get=["$websocket","$q","$timeout","$interval",function(c,f,g,h){function i(){d.log("Connecting to "+o),p=f.defer(),c.connect(o)}function j(){try{if(x++,x>3)throw new Error("Too many missed heartbeats.");c.send(e)}catch(a){h.cancel(w),w=null,d.warn("Closing connection. Reason: "+a.message),c.close()}}function k(b,d){u||a.equals(d,b)||c.send(a.toJson(b))}function l(b){a.forEach(b,function(a){"subscribe"===a.substring(0,9)?s=!0:"publish"===a.substring(0,7)&&(t=!0)})}function m(){q.$watchCollection(r,k)}function n(a,c){var d=[b,a,"?"];d.push(c.join("&")),o=d.join("")}var o,p,q,r,s=!1,t=!1,u=!1,v=0,w=null,x=0;return c.onopen=function(a){d.log("Connected"),p.resolve(),v=0,e&&null===w&&(x=0,w=h(j,5e3))},c.onclose=function(a){d.log("Disconnected"),p.reject(),v=Math.min(v+1e3,1e4),g(function(){c.connect(o)},v)},c.onerror=function(a){d.error("Websocket connection is broken!"),c.close()},c.onmessage=function(b){var c;if(b.data===e)return void(x=0);try{c=a.fromJson(b.data)}catch(a){return void d.warn("Data received by server is invalid JSON: "+b.data)}s&&(u=!0,q.$apply(function(){a.extend(q[r],c)}),u=!1)},{connect:function(a,b,c,d){return q=a,l(d),r=b,q[r]=q[r]||{},n(c,d),i(),t&&p.promise.then(m),p.promise}}}]})}(window.angular);var oscar=function(a,b){return a.messages={addMessage:function(a,c){var d='<div class="alert fade in alert-'+a+'"><a href="#" class="close" data-dismiss="alert">&times;</a>'+c+"</div>";b("#messages").append(b(d))},debug:function(b){a.messages.addMessage("debug",b)},info:function(b){a.messages.addMessage("info",b)},success:function(b){a.messages.addMessage("success",b)},warning:function(b){a.messages.addMessage("warning",b)},error:function(b){a.messages.addMessage("danger",b)},clear:function(){b("#messages").html("")},scrollTo:function(){b("html").animate({scrollTop:b("#messages").offset().top})}},a.search={init:function(){a.search.initSortWidget(),a.search.initFacetWidgets()},initSortWidget:function(){b("#id_sort_by").on("change",function(){b(this).closest("form").submit()})},initFacetWidgets:function(){b(".facet_checkbox").on("change",function(){window.location.href=b(this).next(".facet_url").val()})}},a.promotions={init:function(){}},a.notifications={init:function(){b('a[data-behaviours~="archive"]').click(function(){a.notifications.checkAndSubmit(b(this),"archive")}),b('a[data-behaviours~="delete"]').click(function(){a.notifications.checkAndSubmit(b(this),"delete")})},checkAndSubmit:function(a,b){return a.closest("tr").find("input").attr("checked","checked"),a.closest("form").find('button[value="'+b+'"]').click(),!1}},a.forms={init:function(){b('form[data-behaviours~="lock"]').submit(a.forms.submitIfNotLocked),b(document.body).on("click","[data-loading-text]",function(){var a=b(this).parents("form");a&&0!=b(":invalid",a).length||b(this).button("loading")}),ratings=b(".reviewrating"),ratings.length&&ratings.find(".star-rating i").on("click",a.forms.reviewRatingClick)},submitIfNotLocked:function(a){var c=b(this);return!c.data("locked")&&void c.data("locked",!0)},reviewRatingClick:function(a){var c=["One","Two","Three","Four","Five"];b(this).parent().removeClass("One Two Three Four Five").addClass(c[b(this).index()]),b(this).closest(".controls").find("select").val(b(this).index()+1)}},a.page={init:function(){b(".top_page a").click(function(a){var c=b(this).attr("href");b("html, body").animate({scrollTop:b(c).offset().top},500),a.preventDefault()}),b('[rel="tooltip"]').tooltip()}},a.responsive={init:function(){a.responsive.isDesktop()&&a.responsive.initNav()},isDesktop:function(){return document.body.clientWidth>767},initNav:function(){var a=b("aside.col-sm-3"),c=b('[data-navigation="dropdown-menu"]'),d=c.parent().find("> a[data-toggle]");c.css("width",a.outerWidth()),d.length||(c.parent().find("> a").off("click"),a.css({marginTop:c.outerHeight()}))},initSlider:function(){b(".carousel").carousel({interval:2e4})}},a.compatibility={init:function(){a.compatibility.isIE()&&b(".product_pod select").on({mousedown:function(){b(this).addClass("select-open")},change:function(){b(this).removeClass("select-open")}})},isIE:function(){return navigator.userAgent.toLowerCase().indexOf("msie")>-1}},a.basket={is_form_being_submitted:!1,init:function(c){"undefined"==typeof c&&(c={basketURL:document.URL}),a.basket.url=c.basketURL||document.URL,b("#content_inner").on("click",'#basket_formset a[data-behaviours~="remove"]',function(c){a.basket.checkAndSubmit(b(this),"form","DELETE"),c.preventDefault()}),b("#content_inner").on("click",'#basket_formset a[data-behaviours~="save"]',function(c){a.basket.checkAndSubmit(b(this),"form","save_for_later"),c.preventDefault()}),b("#content_inner").on("click",'#saved_basket_formset a[data-behaviours~="move"]',function(c){a.basket.checkAndSubmit(b(this),"saved","move_to_basket")}),b("#content_inner").on("click",'#saved_basket_formset a[data-behaviours~="remove"]',function(c){a.basket.checkAndSubmit(b(this),"saved","DELETE"),c.preventDefault()}),b("#content_inner").on("click","#voucher_form_link a",function(b){a.basket.showVoucherForm(),b.preventDefault()}),b("#content_inner").on("click","#voucher_form_cancel",function(b){a.basket.hideVoucherForm(),b.preventDefault()}),b("#content_inner").on("submit","#basket_formset",a.basket.submitBasketForm),"#voucher"==window.location.hash&&a.basket.showVoucherForm()},submitBasketForm:function(c){b("#messages").html("");var d=b("#basket_formset").serializeArray();b.post(a.basket.url,d,a.basket.submitFormSuccess,"json"),c&&c.preventDefault()},submitFormSuccess:function(c){b("#content_inner").html(c.content_html),a.messages.clear();for(var d in c.messages)for(var e=0;e<c.messages[d].length;e++)a.messages[d](c.messages[d][e]);a.basket.is_form_being_submitted=!1},showVoucherForm:function(){b("#voucher_form_container").show(),b("#voucher_form_link").hide(),b("#id_code").focus()},hideVoucherForm:function(){b("#voucher_form_container").hide(),b("#voucher_form_link").show()},checkAndSubmit:function(c,d,e){if(!a.basket.is_form_being_submitted){var f=c.attr("data-id"),g="#id_"+d+"-"+f+"-"+e;b(g).attr("checked","checked"),c.closest("form").submit(),a.basket.is_form_being_submitted=!0}}},a.checkout={gateway:{init:function(){var c=b("form input[name=options]"),d=b("form input[name=options]:checked");a.checkout.gateway.handleRadioSelection(d.val()),c.change(a.checkout.gateway.handleRadioChange),b("#id_username").focus()},handleRadioChange:function(){a.checkout.gateway.handleRadioSelection(b(this).val())},handleRadioSelection:function(a){var c=b("#id_password");"anonymous"==a||"new"==a?c.attr("disabled","disabled"):c.removeAttr("disabled")}}},a.init=function(){a.forms.init(),a.page.init(),a.responsive.init(),a.responsive.initSlider(),a.compatibility.init()},a}(oscar||{},jQuery);!function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],a):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery))}(function(a){"use strict";function b(a,c){return void 0===document.body.style.maxHeight?null:this&&this.options===b.prototype.options?a&&a.length?(this.list=a,this.num=a.length,this.initOptions(c),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",a):new b(a,c)}return a.extend(b.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",srcsetProperty:"urlset",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(b){function c(){var a,c,d=e.transition;document.body.appendChild(b),d&&(a=d.name.slice(0,-9)+"ransform",void 0!==b.style[a]&&(b.style[a]="translateZ(0)",c=window.getComputedStyle(b).getPropertyValue(d.prefix+"transform"),e.transform={prefix:d.prefix,name:a,translate:!0,translateZ:!!c&&"none"!==c})),void 0!==b.style.backgroundSize&&(e.backgroundSize={},b.style.backgroundSize="contain",e.backgroundSize.contain="contain"===window.getComputedStyle(b).getPropertyValue("background-size"),b.style.backgroundSize="cover",e.backgroundSize.cover="cover"===window.getComputedStyle(b).getPropertyValue("background-size")),document.body.removeChild(b)}var d,e={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},f={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(d in f)if(f.hasOwnProperty(d)&&void 0!==b.style[d]){e.transition=f[d],e.transition.name=d;break}return document.body?c():a(document).on("DOMContentLoaded",c),e}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()!==!1&&(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(a,b){window.clearTimeout(this.timeout);var c,d,e,f=this.index;if(f!==a&&1!==this.num){if(b||(b=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(a=this.circle(a)),c=Math.abs(f-a)/(f-a),this.options.continuous&&(d=c,c=-this.positions[this.circle(a)]/this.slideWidth,c!==d&&(a=-c*this.num+a)),e=Math.abs(f-a)-1;e;)e-=1,this.move(this.circle((a>f?a:f)-e-1),this.slideWidth*c,0);a=this.circle(a),this.move(f,this.slideWidth*c,b),this.move(a,0,b),this.options.continuous&&this.move(this.circle(a-c),-(this.slideWidth*c),0)}else a=this.circle(a),this.animate(f*-this.slideWidth,a*-this.slideWidth,b);this.onslide(a)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var b=this;window.clearTimeout(this.timeout),this.interval=a||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,c){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(a,c)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(a){var b;for(a.concat||(a=Array.prototype.slice.call(a)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(a),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),b=this.num-a.length;b<this.num;b+=1)this.addSlide(b),this.positionSlide(b);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var a=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass),a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){function a(c){c.target===b.container[0]&&(b.container.off(b.support.transition.end,a),b.handleClose())}var b=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,a),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,b,c){this.translateX(a,b,c),this.positions[a]=b},translate:function(a,b,c,d){var e=this.slides[a].style,f=this.support.transition,g=this.support.transform;e[f.name+"Duration"]=d+"ms",e[g.name]="translate("+b+"px, "+c+"px)"+(g.translateZ?" translateZ(0)":"")},translateX:function(a,b,c){this.translate(a,b,0,c)},translateY:function(a,b,c){this.translate(a,0,b,c)},animate:function(a,b,c){if(!c)return void(this.slidesContainer[0].style.left=b+"px");var d=this,e=(new Date).getTime(),f=window.setInterval(function(){var g=(new Date).getTime()-e;return g>c?(d.slidesContainer[0].style.left=b+"px",d.ontransitionend(),void window.clearInterval(f)):void(d.slidesContainer[0].style.left=(b-a)*(Math.floor(g/c*100)/100)+a+"px")},4)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&1===a.which&&"VIDEO"!==a.target.nodeName&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchmove(a))},onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(b){if(this.touchStart){var c=b.target,d=b.relatedTarget;(!d||d!==c&&!a.contains(c,d))&&this.onmouseup(b)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b=(a.originalEvent||a).touches[0];this.touchStart={x:b.pageX,y:b.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b,c,d=(a.originalEvent||a).touches[0],e=(a.originalEvent||a).scale,f=this.index;if(!(d.length>1||e&&1!==e))if(this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:d.pageX-this.touchStart.x,y:d.pageY-this.touchStart.y},b=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(b)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(f,this.touchDelta.y+this.positions[f],0);else for(a.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?c=[this.circle(f+1),f,this.circle(f-1)]:(this.touchDelta.x=b/=!f&&b>0||f===this.num-1&&0>b?Math.abs(b)/this.slideWidth+1:1,c=[f],f&&c.push(f-1),f<this.num-1&&c.unshift(f+1));c.length;)f=c.pop(),this.translateX(f,b+this.positions[f],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b,c,d,e,f,g=this.index,h=this.options.transitionSpeed,i=this.slideWidth,j=Number(Date.now()-this.touchStart.time)<250,k=j&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>i/2,l=!g&&this.touchDelta.x>0||g===this.num-1&&this.touchDelta.x<0,m=!k&&this.options.closeOnSwipeUpOrDown&&(j&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(l=!1),b=this.touchDelta.x<0?-1:1,this.isScrolling?m?this.close():this.translateY(g,0,h):k&&!l?(c=g+b,d=g-b,e=i*b,f=-i*b,this.options.continuous?(this.move(this.circle(c),e,0),this.move(this.circle(g-2*b),f,0)):c>=0&&c<this.num&&this.move(c,e,0),this.move(g,this.positions[g]+e,h),this.move(this.circle(d),this.positions[this.circle(d)]+e,h),g=this.circle(d),this.onslide(g)):this.options.continuous?(this.move(this.circle(g-1),-i,h),this.move(g,0,h),this.move(this.circle(g+1),i,h)):(g&&this.move(g-1,-i,h),this.move(g,0,h),g<this.num-1&&this.move(g+1,i,h))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var b=this.slides[this.index];a&&b!==a.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,b]))},oncomplete:function(b){var c,d=b.target||b.srcElement,e=d&&d.parentNode;d&&e&&(c=this.getNodeIndex(e),a(e).removeClass(this.options.slideLoadingClass),"error"===b.type?(a(e).addClass(this.options.slideErrorClass),this.elements[c]=3):this.elements[c]=2,d.clientHeight>this.container[0].clientHeight&&(d.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===e&&this.play(),this.setTimeout(this.options.onslidecomplete,[c,e]))},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),a.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.next())}},handleClick:function(b){function c(b){return a(e).hasClass(b)||a(f).hasClass(b)}var d=this.options,e=b.target||b.srcElement,f=e.parentNode;c(d.toggleClass)?(this.preventDefault(b),this.toggleControls()):c(d.prevClass)?(this.preventDefault(b),this.prev()):c(d.nextClass)?(this.preventDefault(b),this.next()):c(d.closeClass)?(this.preventDefault(b),this.close()):c(d.playPauseClass)?(this.preventDefault(b),this.toggleSlideshow()):f===this.slidesContainer[0]?d.closeOnSlideClick?(this.preventDefault(b),this.close()):d.toggleControlsOnSlideClick&&(this.preventDefault(b),this.toggleControls()):f.parentNode&&f.parentNode===this.slidesContainer[0]&&d.toggleControlsOnSlideClick&&(this.preventDefault(b),this.toggleControls())},onclick:function(a){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),a===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a),this.loadElements(a),this.options.unloadElements&&this.unloadElements(a),this.setTitle(a)},onslide:function(a){this.index=a,this.handleSlide(a),this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){var b=this.slides[a].firstChild.title,c=this.titleElement;c.length&&(this.titleElement.empty(),b&&c[0].appendChild(document.createTextNode(b)))},setTimeout:function(a,b,c){var d=this;return a&&window.setTimeout(function(){a.apply(d,b||[])},c||0)},imageFactory:function(b,c){function d(b){if(!e){if(b={type:b.type,target:f},!f.parentNode)return h.setTimeout(d,[b]);e=!0,a(i).off("load error",d),k&&"load"===b.type&&(f.style.background='url("'+j+'") center no-repeat',f.style.backgroundSize=k),c(b)}}var e,f,g,h=this,i=this.imagePrototype.cloneNode(!1),j=b,k=this.options.stretchImages;return"string"!=typeof j&&(j=this.getItemProperty(b,this.options.urlProperty),g=this.getItemProperty(b,this.options.titleProperty)),k===!0&&(k="contain"),k=this.support.backgroundSize&&this.support.backgroundSize[k]&&k,k?f=this.elementPrototype.cloneNode(!1):(f=i,i.draggable=!1),g&&(f.title=g),a(i).on("load error",d),i.src=j,f},createElement:function(b,c){var d=b&&this.getItemProperty(b,this.options.typeProperty),e=d&&this[d.split("/")[0]+"Factory"]||this.imageFactory,f=b&&e.call(this,b,c),g=this.getItemProperty(b,this.options.srcsetProperty);return f||(f=this.elementPrototype.cloneNode(!1),this.setTimeout(c,[{type:"error",target:f}])),g&&f.setAttribute("srcset",g),a(f).addClass(this.options.slideContentClass),f},loadElement:function(b){this.elements[b]||(this.slides[b].firstChild?this.elements[b]=a(this.slides[b]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[b]=1,a(this.slides[b]).addClass(this.options.slideLoadingClass),this.slides[b].appendChild(this.createElement(this.list[b],this.proxyListener))))},loadElements:function(a){var b,c=Math.min(this.num,2*this.options.preloadRange+1),d=a;for(b=0;c>b;b+=1)d+=b*(b%2===0?-1:1),d=this.circle(d),this.loadElement(d)},unloadElements:function(a){var b,c;for(b in this.elements)this.elements.hasOwnProperty(b)&&(c=Math.abs(a-b),c>this.options.preloadRange&&c+this.options.preloadRange<this.num&&(this.unloadSlide(b),delete this.elements[b]))},addSlide:function(a){var b=this.slidePrototype.cloneNode(!1);b.setAttribute("data-index",a),this.slidesContainer[0].appendChild(b),this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];b.style.width=this.slideWidth+"px",this.support.transform&&(b.style.left=a*-this.slideWidth+"px",this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(b){var c,d;for(b||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),a(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,c=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",c&&this.resetSlides(),d=0;d<this.num;d+=1)c&&this.addSlide(d),this.positionSlide(d);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(a){var b,c;b=this.slides[a],c=b.firstChild,null!==c&&b.removeChild(c)},unloadAllSlides:function(){var a,b;for(a=0,b=this.slides.length;b>a;a++)this.unloadSlide(a)},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){return b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(b,c,d,e,f){var g=f||c||d||e&&parseInt(e,10);b&&a&&(a=a[g])}),a},getDataProperty:function(b,c){if(b.getAttribute){var d=b.getAttribute("data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof d){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(d))try{return a.parseJSON(d)}catch(a){}return d}}},getItemProperty:function(a,b){var c=a[b];return void 0===c&&(c=this.getDataProperty(a,b),void 0===c&&(c=this.getNestedProperty(a,b))),c},initStartIndex:function(){var a,b=this.options.index,c=this.options.urlProperty;if(b&&"number"!=typeof b)for(a=0;a<this.num;a+=1)if(this.list[a]===b||this.getItemProperty(this.list[a],c)===this.getItemProperty(b,c)){b=a;break}this.index=this.circle(parseInt(b,10)||0)},initEventListeners:function(){function b(a){var b=c.support.transition&&c.support.transition.end===a.type?"transitionend":a.type;c["on"+b](a)}var c=this,d=this.slidesContainer;a(window).on("resize",b),a(document.body).on("keydown",b),this.container.on("click",b),this.support.touch?d.on("touchstart touchmove touchend touchcancel",b):this.options.emulateTouchEvents&&this.support.transition&&d.on("mousedown mousemove mouseup mouseout",b),this.support.transition&&d.on(this.support.transition.end,b),this.proxyListener=b},destroyEventListeners:function(){var b=this.slidesContainer,c=this.proxyListener;a(window).off("resize",c),a(document.body).off("keydown",c),this.container.off("click",c),this.support.touch?b.off("touchstart touchmove touchend touchcancel",c):this.options.emulateTouchEvents&&this.support.transition&&b.off("mousedown mousemove mouseup mouseout",c),this.support.transition&&b.off(this.support.transition.end,c)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){function b(a){a.target===c.container[0]&&(c.container.off(c.support.transition.end,b),c.handleOpen())}var c=this;return this.container=a(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,b):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,
document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(b){this.options=a.extend({},this.options),(b&&b.carousel||this.options.carousel&&(!b||b.carousel!==!1))&&a.extend(this.options,this.carouselOptions),a.extend(this.options,b),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{fullScreen:!1});var c=b.prototype.initialize,d=b.prototype.close;return a.extend(b.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){c.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),d.call(this)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var c=b.prototype.initSlides,d=b.prototype.addSlide,e=b.prototype.resetSlides,f=b.prototype.handleClick,g=b.prototype.handleSlide,h=b.prototype.handleClose;return a.extend(b.prototype,{createIndicator:function(b){var c,d,e=this.indicatorPrototype.cloneNode(!1),f=this.getItemProperty(b,this.options.titleProperty),g=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(g&&(c=this.getItemProperty(b,g)),void 0===c&&(d=b.getElementsByTagName&&a(b).find("img")[0],d&&(c=d.src)),c&&(e.style.backgroundImage='url("'+c+'")')),f&&(e.title=f),e},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a),this.indicatorContainer[0].appendChild(b),this.indicators.push(b)}},setActiveIndicator:function(b){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[b]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(a){a||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),c.call(this,a)},addSlide:function(a){d.call(this,a),this.addIndicator(a)},resetSlides:function(){e.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else{if(c.parentNode!==this.indicatorContainer[0])return f.call(this,a);this.preventDefault(a),this.slide(this.getNodeIndex(c))}},handleSlide:function(a){g.call(this,a),this.setActiveIndicator(a)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),h.call(this)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a.extend(b.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var c=b.prototype.handleSlide;return a.extend(b.prototype,{handleSlide:function(a){c.call(this,a),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(b,c,d){var e,f,g,h,i,j=this,k=this.options,l=this.elementPrototype.cloneNode(!1),m=a(l),n=[{type:"error",target:l}],o=d||document.createElement("video"),p=this.getItemProperty(b,k.urlProperty),q=this.getItemProperty(b,k.typeProperty),r=this.getItemProperty(b,k.titleProperty),s=this.getItemProperty(b,k.videoPosterProperty),t=this.getItemProperty(b,k.videoSourcesProperty);if(m.addClass(k.videoContentClass),r&&(l.title=r),o.canPlayType)if(p&&q&&o.canPlayType(q))o.src=p;else for(;t&&t.length;)if(f=t.shift(),p=this.getItemProperty(f,k.urlProperty),q=this.getItemProperty(f,k.typeProperty),p&&q&&o.canPlayType(q)){o.src=p;break}return s&&(o.poster=s,e=this.imagePrototype.cloneNode(!1),a(e).addClass(k.toggleClass),e.src=s,e.draggable=!1,l.appendChild(e)),g=document.createElement("a"),g.setAttribute("target","_blank"),d||g.setAttribute("download",r),g.href=p,o.src&&(o.controls=!0,(d||a(o)).on("error",function(){j.setTimeout(c,n)}).on("pause",function(){o.seeking||(h=!1,m.removeClass(j.options.videoLoadingClass).removeClass(j.options.videoPlayingClass),i&&j.container.addClass(j.options.controlsClass),delete j.playingVideo,j.interval&&j.play())}).on("playing",function(){h=!1,m.removeClass(j.options.videoLoadingClass).addClass(j.options.videoPlayingClass),j.container.hasClass(j.options.controlsClass)?(i=!0,j.container.removeClass(j.options.controlsClass)):i=!1}).on("play",function(){window.clearTimeout(j.timeout),h=!0,m.addClass(j.options.videoLoadingClass),j.playingVideo=o}),a(g).on("click",function(a){j.preventDefault(a),h?o.pause():o.play()}),l.appendChild(d&&d.element||o)),l.appendChild(g),this.setTimeout(c,[{type:"load",target:l}]),l}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c,d){this.url=a,this.videoId=b,this.playerId=c,this.clickToPlay=d,this.element=document.createElement("div"),this.listeners={}},e=0;return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){function b(){!d&&e.playOnReady&&e.play(),d=!0}for(var c,d,e=this,f="//f.vimeocdn.com/js/froogaloop2.min.js",g=document.getElementsByTagName("script"),h=g.length;h;)if(h-=1,g[h].src===f){c=g[h];break}c||(c=document.createElement("script"),c.src=f),a(c).on("load",b),g[0].parentNode.insertBefore(c,g[0]),/loaded|complete/.test(c.readyState)&&b()},onReady:function(){var a=this;this.ready=!0,this.player.addEvent("play",function(){a.hasPlayed=!0,a.onPlaying()}),this.player.addEvent("pause",function(){a.onPause()}),this.player.addEvent("finish",function(){a.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),a.id=this.playerId,this.element.parentNode.replaceChild(a,this.element),this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{VimeoPlayer:d,textFactory:function(a,b){var f=this.options,g=this.getItemProperty(a,f.vimeoVideoIdProperty);return g?(void 0===this.getItemProperty(a,f.urlProperty)&&(a[f.urlProperty]="//vimeo.com/"+g),e+=1,this.videoFactory(a,b,new d(f.vimeoPlayerUrl,g,f.vimeoPlayerIdPrefix+e,f.vimeoClickToPlay))):c.call(this,a,b)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";if(!window.postMessage)return b;a.extend(b.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var c=b.prototype.textFactory||b.prototype.imageFactory,d=function(a,b,c){this.videoId=a,this.playerVars=b,this.clickToPlay=c,this.element=document.createElement("div"),this.listeners={}};return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var a,b=this,c=window.onYouTubeIframeAPIReady,d="//www.youtube.com/iframe_api",e=document.getElementsByTagName("script"),f=e.length;for(window.onYouTubeIframeAPIReady=function(){c&&c.apply(this),b.playOnReady&&b.play()};f;)if(f-=1,e[f].src===d)return;a=document.createElement("script"),a.src=d,e[0].parentNode.insertBefore(a,e[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){b.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)&&(this.listeners.pause(),delete this.playStatus)},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},onError:function(b){a.onError(b)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(b.prototype,{YouTubePlayer:d,textFactory:function(a,b){var e=this.options,f=this.getItemProperty(a,e.youTubeVideoIdProperty);return f?(void 0===this.getItemProperty(a,e.urlProperty)&&(a[e.urlProperty]="//www.youtube.com/watch?v="+f),void 0===this.getItemProperty(a,e.videoPosterProperty)&&(a[e.videoPosterProperty]="//img.youtube.com/vi/"+f+"/maxresdefault.jpg"),this.videoFactory(a,b,new d(f,e.youTubePlayerVars,e.youTubeClickToPlay))):c.call(this,a,b)}}),b}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],a):a(window.jQuery,window.blueimp.Gallery)}(function(a,b){"use strict";a(document).on("click","[data-gallery]",function(c){var d=a(this).data("gallery"),e=a(d),f=e.length&&e||a(b.prototype.options.container),g={onopen:function(){f.data("gallery",this).trigger("open")},onopened:function(){f.trigger("opened")},onslide:function(){f.trigger("slide",arguments)},onslideend:function(){f.trigger("slideend",arguments)},onslidecomplete:function(){f.trigger("slidecomplete",arguments)},onclose:function(){f.trigger("close")},onclosed:function(){f.trigger("closed").removeData("gallery")}},h=a.extend(f.data(),{container:f[0],index:this,event:c},g),i=a('[data-gallery="'+d+'"]');return h.filter&&(i=i.filter(h.filter)),new b(i,h)})}),function(){"use strict";var a,b;b="soloha",a=angular.module(b,["ngResource","ngRoute","ng.django.forms","ui.bootstrap","ngAnimate","duScroll","ng.django.urls"]),a.config(["$httpProvider",function(a){return a.defaults.xsrfCookieName="csrftoken",a.defaults.xsrfHeaderName="X-CSRFToken",a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}])}.call(this),function(){"use strict";var a,b;b="soloha",a=angular.module(b),a.controller("Header",["$http","$scope","$location","$window","$document","$log","$cacheFactory",function(a,b,c,d,e,f,g){return b.update_products=function(){return $("#search-dropdown").addClass("open"),b.searched_products=[],a.post("/search/",{search_string:b.search}).success(function(a){return b.sorting_type=a.sorting_type,b.searched_products=a.searched_products}).error(function(){return console.error("An error occurred during submission")})}}])}.call(this),function(){"use strict";var a,b,c=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};b="soloha",a=angular.module(b),a.filter("search_by_title",function(){return function(a,b){var d;return a&&b?c.call([function(){var b,c,e;for(e=[],b=0,c=a.length;b<c;b++)d=a[b],e.push(d.title);return e}()][0],b)>=0:null}}),a.filter("filter_attribute",function(){return function(a,b){var c,d;return a&&null!=b&&""!==b?(b=b.toString(),c=[function(){var c,e,f;for(f=[],c=0,e=a.length;c<e;c++)d=a[c],d.title.toString().indexOf(b)>-1&&f.push(d);return f}()],!!c.length&&c):a}}),a.controller("Product",["$http","$scope","$window","$document","$location","$compile","$filter","djangoForm","$rootScope","djangoUrl",function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o;return b.product=[],b.product.values=[],b.product.attributes=[],b.attributes=[],k=[],m=null,b.last_select_attr=null,b.isOpen=[],b.product.custom_values=[],b.product.custom_value=[],b.product.dict_attributes=[],b.query_attr=[],b.send_form=!1,b.alert_mode="success",b.prod_images=[],b.product_primary_images=[],b.product_images=null,i.Object=Object,i.keys=Object.keys,b.sent_signal=[],l=[],b.alert=null,b.disabled_button=!1,b.remove_alert=function(){return b.alert=null},b.change_price=function(a){return 0!==Object.keys(b.options_children).length?b.option_id=Object.keys(b.options_children[b.option_id]).filter(function(a){return b.options_children[b.option_id][a]===b.option_model[b.option_id]})[0]:b.option_id?b.option_id=b.model[b.option_id]:b.option_id=b.model[0],b.options[b.option_id]?b.new_price+=parseFloat(b.options[b.option_id]):b.parent=!0},a.post(e.absUrl()).success(function(a){return m=a,b.options=a.options,b.options_children=a.options_children,b.list_options=a.list_options,b.attributes=a.attributes,angular.copy(a.attributes,l),b.product=a.product,b.product.custom_values=b.isOpen=b.product.dict_attributes=b.product.custom_value=[],angular.forEach(b.attributes,function(a){return k.push(a.pk),a.selected_val.images.length&&(b.product_images={pk:a.selected_val.images[0].pk}),b.product.dict_attributes[a.pk]=a,b.product.custom_value[a.pk]=null,b.isOpen[a.pk]=!1,b.product.custom_values[a.pk]=[]}),b.price_start=o()}).error(function(){return console.error("An error occurred during submission")}),b.update_price_with_custom_val=function(c,d){var e;if(null!=d?b.product.attributes[c]=d:b.product.attributes[c]=b.product.custom_value[c],e=[],angular.forEach(m.attributes,function(a){var c;if(c=b.product.dict_attributes[a.pk].non_standard,0!==b.product.attributes[a.pk].pk&&c===!0)return e.push(b.product.attributes[a.pk])}),e.length)return a.post("/catalogue/calculate/price/"+m.product.pk,{selected_attributes:e,current_attr:b.product.attributes[c]}).success(function(a){var e,f,h;if(null!=a.error){f=a.error,h=[];for(e in f)d=f[e],h.push(b.product.attributes[e].error=d);return h}if(b.price=a.price,b.product.custom_value[c]&&!g("search_by_title")(b.product.custom_values[c],b.product.custom_value[c].title))return b.product.custom_values[c].push(b.product.custom_value[c])}).error(function(){return console.error("An error occurred during submission")})},b.search=function(a){return null==b.query_attr[a]||""===b.query_attr[a]||g("search_by_title")(b.product.custom_values[a],b.query_attr[a])?b.product.custom_value[a]=null:b.product.custom_value[a]={pk:-1,title:b.query_attr[a],parent:a}},b.click_dropdown=function(a){return b.isOpen[a]=b.isOpen[a]===!1},n=function(c){if(null!=c.products&&!c.products.length||null==c.products)return a.post("/catalogue/attr/"+c.pk+"/product/"+m.product.pk+"/").success(function(a){return c.products=a.products,a.product_primary_images.length&&null==c.images&&(b.product_images={pk:a.product_primary_images[0].pk}),c.images=a.product_primary_images}).error(function(){return console.error("An error occurred during submission")})},b.attr_prod=function(a){return n(a)},b.attr_prod_images=function(b,c){if(null!=c.images&&!c.images.length)return c.sent_signal=!0,a.post("/catalogue/attr/product/"+c.pk+"/images/").success(function(a){var b;return c.sent_signal=!1,b=a.images,a.images.length||(b=null),c.images=b}).error(function(){return console.error("An error occurred during submission")})},o=function(){var a,c;return c=[],k=g("orderBy")(b.attributes,"pk"),!!(k.length&&(angular.forEach(k,function(a){if(0!==a.selected_val.pk)return c.push(a.selected_val.pk)}),a=m.stockrecords[c.toString()]))&&(b.price=a.price,b.stockrecord=a.stockrecord_id,a.price)},b.update_price=function(a,c){if(c.selected_val=a,n(a),angular.forEach(m.variant_attributes[a.pk],function(a){var c;return c=g("filter")(b.attributes,{pk:a.pk})[0],c.values=a.values}),!o()&&(angular.forEach(m.variant_attributes[a.pk],function(a){var c;return c=g("filter")(b.attributes,{pk:a.pk})[0],c.values=a.values,a.values[1]&&a.values[1].visible?c.selected_val=a.values[1]:c.values&&(c.selected_val=c.values[0]),n(c.selected_val)}),!o()))return b.price=b.price_start,angular.forEach(b.attributes,function(a){var b;return b=g("filter")(l,{pk:a.pk})[0],a.values=b.values,a.selected_val=b.selected_val,n(b.selected_val)})},b.quick_order=function(){if(b.quick_order_data)return b.disabled_button=!0,b.alert=null,b.button.actual=b.button.sending,a.post("/catalogue/quick/order/"+m.product.pk,b.quick_order_data).success(function(a){return h.setErrors(b.quick_order_form,a.errors)||(b.alert={msg:a.msg,type:"alert-success"}),b.button.actual=b.button.send,b.disabled_button=!1}).error(function(){return console.error("An error occured during submission")})},b.change_wishlist=function(){return"none"!==b.active?a.post(b.wish_list_url+"products/"+b.product_id+"/delete/").success(function(a){return b.active="none"}).error(function(){return console.error("An error occurred during submission")}):a.post("/accounts/wishlists/add/"+b.product_id+"/").success(function(a){return b.active="active"}).error(function(){return console.error("An error occurred during submission")})}}]),a.controller("More_goods",["$http","$scope","$window","$document","$location","$compile","$routeParams",function(a,b,c,d,e,f,g){var h;return h=function(a,b){var c,d;return b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&"),c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b),d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},b.sorting_type="-views_count",h("sorting_type")&&(b.sorting_type=h("sorting_type")),b.page_number="1",h("page")&&(b.page_number=h("page")),a.post(e.absUrl(),{page:b.page_number,sorting_type:b.sorting_type}).success(function(a){var c,d;return d=angular.element(document).find("#product"),d.attr("ng-repeat","product in products"),f(d)(b),c=angular.element(".clear"),c.remove(),b.products=a.products,b.initial_page_number=a.page_number,b.num_pages=a.num_pages,b.pages=[a.pages[parseInt(b.initial_page_number)-1]],b.pages[0].active="True",b.pages[0].link="",b.sorting_type=a.sorting_type}).error(function(){return console.error("An error occurred during submission")}),b.submit=function(){return a.post(e.absUrl(),{page:b.page_number,sorting_type:b.sorting_type}).success(function(a){var c,d,e,f,g;for(c=angular.element(".clear_pagination"),c.remove(),b.pages=a.pages,e=d=f=parseInt(b.initial_page_number)-1,g=parseInt(b.page_number);f<=g?d<=g:d>=g;e=f<=g?++d:--d)b.pages[e].active="True",b.pages[e].link="";if(b.products=b.products.concat(a.products_next_page),b.page_number=parseInt(b.page_number)+1,b.page_number===parseInt(b.num_pages))return b.hide=!0}).error(function(){return console.error("An error occurred during submission")})}}])}.call(this),function(){"use strict";var a,b;b="soloha",a=angular.module(b),a.controller("Contacts",["$http","$scope","$window","djangoForm","$document",function(a,b,c,d,e){return b.alert=null,b.disabled_button=!1,b.remove_alert=function(){return b.alert=null},b.submit=function(){if(b.feedback)return b.disabled_button=!0,b.alert=null,b.button.actual=b.button.sending,a.post(".",b.feedback).success(function(a){return d.setErrors(b.form_comment,a.errors)||(b.alert={msg:a.msg,type:"alert-success"}),b.button.actual=b.button.send,b.disabled_button=!1}).error(function(){return console.error("An error occurred during submission")})}}]),a.directive("alertSuccess",["$scope",function(a){}])}.call(this),function(){"use strict";var a,b;b="soloha",a=angular.module(b),a.controller("Search",["$http","$scope","$window","$document","$location","$routeParams","$compile",function(a,b,c,d,e,f,g){}])}.call(this),function(){}.call(this),$(document).ready(function(){$(".stop-propagation").click(function(a){a.stopPropagation()}),$(".stop-change-url").click(function(a){a.preventDefault()}),$(".dropdown-menu li a").click(function(a){a.stopPropagation()}),$('#categories a[role="tab"]').click(function(a){a.preventDefault(),$(this).tab("show")}),$("button[data-loading-text]").on("click",function(){var a=$(this);a.button("loading")})}),$(document).ready(function(){$(".lightSlider").lightSlider({item:4,loop:!0,slideMove:1,slideMargin:0,pager:!1}),$(".lightSlider_tree").lightSlider({item:3,loop:!0,slideMove:1,slideMargin:0,pager:!1})}),$(document).ready(function(){$("#lightSlider_product").lightSlider({gallery:!0,item:1,vertical:!0,verticalHeight:295,vThumbWidth:50,thumbItem:8,thumbMargin:4,slideMargin:0,loop:!0}),$("#primary_info a").click(function(){$("html, body").animate({scrollTop:$(this.hash).offset().top},400)}),$("#primary_info").length&&$("#primary_info").affix({offset:{top:$("#primary_info").offset().top,bottom:$("#items").outerHeight(!0)+$("footer").outerHeight(!0)}})});
//# sourceMappingURL=sourceMap.map